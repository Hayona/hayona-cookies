var GtmCookieConsentIcons=function(){this.icons={check:'<svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M15 1.935L12.697 0l-7.48 8.797-3.144-2.96L0 8.015l5.46 5.138z" fill-rule="nonzero"/></svg>',close:'<svg width="11" height="11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><path d="M8.683 0L5.5 3.183 2.317 0 0 2.317 3.183 5.5 0 8.683 2.317 11 5.5 7.817 8.683 11 11 8.683 7.817 5.5 11 2.317z" fill-rule="nonzero"/></svg>'}};GtmCookieConsentIcons.prototype.getIcon=function(t){return this.icons[t]};var GtmCookieConsentBanner=function(t){this.app=t,this.settings=t.settings,this.utils=t.utils,this.banner,this.bannerOffset,this.buttonAccept,this.buttonReject,this.bannerHeight,this.init()};GtmCookieConsentBanner.prototype.init=function(){document.body.insertBefore(this.getBanner(),document.body.firstChild),this.settings.useBodyOffset&&this.setBodyOffset(),this.settings.implicitConsentEnabled&&-1===window.location.href.indexOf(this.settings.privacyStatementUrl)&&sessionStorage.setItem("hcImplicitConsent","true")},GtmCookieConsentBanner.prototype.getBanner=function(){this.banner=this.utils.createTag("div","gtmcc-banner");var t=this.utils.createTag("div","gtmcc-banner__info",this.settings.explanation);this.banner.appendChild(t);var e=this.utils.createTag("ul","gtmcc-banner__toolbar");return this.buttonAccept=this.utils.createTag("li","",this.utils.createTag("a","gtmcc-button gtmcc-button--has-icon gtmcc-button--accept gtmcc-js-accept",[this.utils.createTag("span","gtmcc-icon gtmcc-icon--check",this.app.icons.getIcon("check")),this.utils.createTag("span","gtmcc-button__label",this.settings.buttonYes)])),this.buttonDecline=this.utils.createTag("li","",this.utils.createTag("a","gtmcc-button gtmcc-button--has-icon gtmcc-button--decline gtmcc-js-decline",[this.utils.createTag("span","gtmcc-icon gtmcc-icon--close",this.app.icons.getIcon("close")),this.utils.createTag("span","gtmcc-button__label",this.settings.buttonNo)])),e.appendChild(this.buttonAccept),e.appendChild(this.buttonDecline),this.banner.appendChild(e),this.buttonAccept.addEventListener("click",this.accept.bind(this)),this.buttonDecline.addEventListener("click",this.decline.bind(this)),this.banner},GtmCookieConsentBanner.prototype.accept=function(t){t.preventDefault(),this.closeBanner(),this.app.saveUserPreferences(),this.app.dataLayerPush(!0)},GtmCookieConsentBanner.prototype.decline=function(t){t.preventDefault(),this.closeBanner(),this.app.saveUserPreferences(!1),this.app.dataLayerPush(!0)},GtmCookieConsentBanner.prototype.closeBanner=function(){void 0!==this.banner&&(this.banner.style.display="none",void 0!==this.bannerOffset&&(this.bannerOffset.style.display="none"),void 0!==this.settings.offsetHeaderSelector&&(document.querySelector(this.settings.offsetHeaderSelector).style.top="0px"))},GtmCookieConsentBanner.prototype.setBodyOffset=function(){var t=this;t.bannerOffset=t.utils.createTag("div","gtmcc-banner-offset"),document.body.insertBefore(t.bannerOffset,document.body.firstChild),t.calculateOffset();var e=setInterval(function(){t.calculateOffset(),"complete"===document.readyState&&clearInterval(e)},100);window.addEventListener("resize",t.debounce(function(){t.calculateOffset()},50))},GtmCookieConsentBanner.prototype.calculateOffset=function(){this.bannerHeight=this.banner.clientHeight,this.bannerOffset.style.height=this.bannerHeight+"px",void 0!==this.settings.offsetHeaderSelector&&(document.querySelector(this.settings.offsetHeaderSelector).style.top=this.bannerHeight+"px")},GtmCookieConsentBanner.prototype.debounce=function(i,s,o){var c;return function(){var t=this,e=arguments,n=o&&!c;clearTimeout(c),c=setTimeout(function(){c=null,o||i.apply(t,e)},s),n&&i.apply(t,e)}};var GtmCookieConsentForm=function(t){this.app=t,this.settings=t.settings,this.utils=t.utils,this.buttonAccept,this.buttonReject,this.init()};GtmCookieConsentForm.prototype.init=function(){var e=this,n=setInterval(function(){if("complete"===document.readyState){clearInterval(n);var t=document.querySelector(e.settings.formPlacementBefore);t.parentNode.insertBefore(e.getForm(),t),e.markSelected()}},100)},GtmCookieConsentForm.prototype.getForm=function(){var t=this,e=this.utils.createTag("div","gtmcc-form"),n=this.utils.createTag("div","gtmcc-form__header");n.appendChild(this.utils.createTag("div","gtmcc-title",t.settings.formHead)),n.appendChild(this.utils.createTag("div","gtmcc-subtitle",t.settings.formSubtitle)),e.appendChild(n);var i=this.utils.createTag("ul","gtmcc-form__options");return t.buttonReject=this.getOption(this.settings.optionTwoButton,t.getTable(!1,t.settings.cookies)),t.buttonAccept=this.getOption(this.settings.optionOneButton,t.getTable(!0,t.settings.cookies)),i.appendChild(this.utils.createTag("li","",t.buttonReject)),i.appendChild(this.utils.createTag("li","",t.buttonAccept)),e.appendChild(i),t.buttonReject.addEventListener("click",t.decline.bind(this)),t.buttonAccept.addEventListener("click",t.accept.bind(this)),e},GtmCookieConsentForm.prototype.accept=function(t){t.preventDefault(),this.app.saveUserPreferences(),this.app.dataLayerPush(!0),this.markSelected()},GtmCookieConsentForm.prototype.decline=function(t){t.preventDefault(),this.app.saveUserPreferences(!1),this.app.dataLayerPush(!0),this.markSelected()},GtmCookieConsentForm.prototype.markSelected=function(){void 0!==this.app.userPreferences&&this.app.userPreferences.consent?(this.buttonAccept.classList.add("gtmcc-selected"),this.buttonReject.classList.remove("gtmcc-selected")):(this.buttonAccept.classList.remove("gtmcc-selected"),this.buttonReject.classList.add("gtmcc-selected"))},GtmCookieConsentForm.prototype.getOption=function(t,e){var n=this.utils.createTag("a","gtmcc-form__option");return n.appendChild(this.utils.createTag("div","gtmcc-form__option__header",[this.utils.createTag("span","gtmcc-form__option__header__checkbox",this.utils.createTag("span","gtmcc-icon gtmcc-icon--check",this.app.icons.getIcon("check"))),this.utils.createTag("span","gtmcc-form__option__header__title",t)])),n.appendChild(e),n},GtmCookieConsentForm.prototype.getTable=function(t){for(var e=this,n=e.utils.createTag("table","gtmcc-table"),i=0;i<e.settings.cookies[0].length;i++)n.appendChild(e.getRow(e.settings.cookies[0][i],!0));for(i=0;i<e.settings.cookies[1].length;i++)t?n.appendChild(e.getRow(e.settings.cookies[1][i],!0)):n.appendChild(e.getRow(e.settings.cookies[1][i],!1));return n},GtmCookieConsentForm.prototype.getRow=function(t,e){var n=document.createElement("tr");return e?(n.appendChild(this.utils.createTag("td","gtmcc-table__th",t)),n.appendChild(this.utils.createTag("td","gtmcc-table__td",[this.utils.createTag("span","gtmcc-icon gtmcc-icon--check"),this.settings.allowed]))):(n.appendChild(this.utils.createTag("td","gtmcc-table__th gtmcc-table__th--disallowed",t)),n.appendChild(this.utils.createTag("td","gtmcc-table__td",[this.utils.createTag("span","gtmcc-icon gtmcc-icon--close"),this.settings.disallowed]))),n};var GtmCookieConsentDomEdit=function(){};GtmCookieConsentDomEdit.prototype.createTag=function(t,e,n){var i=document.createElement(t);if(void 0!==e&&0<e.length&&(i.className=e),"a"===t&&(i.href="#"),void 0===n);else if(n instanceof Array)for(var s=0;s<n.length;s++)this.appendChildByType(i,n[s]);else this.appendChildByType(i,n,!0);return i},GtmCookieConsentDomEdit.prototype.appendChildByType=function(t,e,n){n=n||!1;"string"==typeof e?n?t.innerHTML=e:t.appendChild(document.createTextNode(e)):"object"==typeof e&&t.appendChild(e)};var GtmCookieConsent=function(t){this.settings=t,this.utils=new GtmCookieConsentDomEdit,this.icons=new GtmCookieConsentIcons,this.userPreferences,this.onLoad=!0,this.init()};GtmCookieConsent.prototype.init=function(){if(this.featureTest()){if(window.dataLayer=window.dataLayer||[],this.loadUserPreferences(),this.dataLayerPush(this.userPreferences),null==this.userPreferences&&-1===window.location.href.indexOf(this.settings.privacyStatementUrl))new GtmCookieConsentBanner(this);if(-1!==window.location.href.indexOf(this.settings.privacyStatementUrl))new GtmCookieConsentForm(this)}},GtmCookieConsent.prototype.featureTest=function(){if("querySelector"in document&&"localStorage"in window&&"addEventListener"in window)return!0},GtmCookieConsent.prototype.loadUserPreferences=function(){var t=+new Date,e=JSON.parse(localStorage.getItem("hayonaCookieConsent")),n=sessionStorage.getItem("hcImplicitConsent");null!=e&&e.timestamp>this.settings.resetAllBeforeTimestamp&&t<e.expires&&(this.userPreferences=e),null==e&&"true"===n&&-1===window.location.href.indexOf(this.settings.privacyStatementUrl)&&this.saveUserPreferences()},GtmCookieConsent.prototype.saveUserPreferences=function(t){var e=+new Date;void 0===t&&(t=!0);var n={timestamp:e,consent:t,expires:24*this.settings.consentExpiration*60*60*1e3+e};localStorage.setItem("hayonaCookieConsent",JSON.stringify(n)),this.userPreferences=n},GtmCookieConsent.prototype.clearUserPreferences=function(){localStorage.removeItem("hayonaCookieConsent"),this.userPreferences=void 0},GtmCookieConsent.prototype.dataLayerPush=function(t){if(!0===t)var e=this.settings.gtmTrackEventName;else e="";this.onLoad&&void 0!==this.userPreferences&&!0===this.userPreferences.consent?(dataLayer.push({event:this.settings.gtmEventName}),dataLayer.push({event:e,cookieConsent:"true"}),this.onLoad=!1):dataLayer.push({event:e,cookieConsent:"false"})};var gtmCookieConsent=new GtmCookieConsent(cookieConsentSettings);